{% extends 'base.html' %}
{% load static %}
{% block title %}Ngopiin - Kedai Kopi Online Terbaik{% endblock %}

{% block content %}
<!-- Hero Section dengan Video Background -->
<div class="relative h-screen w-full -mt-8">
    <!-- Video Background -->
    <div class="absolute inset-0 overflow-hidden">
        <img src="https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg" alt="Coffee Background" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black/60"></div>
    </div>
    
    <!-- Hero Content -->
    <div class="relative h-full flex items-center justify-center text-center px-4">
        <div class="max-w-4xl">
            <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight">
                Nikmati Setiap Momen dengan Secangkir Kopi
            </h1>
            <p class="text-lg sm:text-xl md:text-2xl text-gray-200 mb-6 sm:mb-10">
                Rasakan pengalaman kopi autentik dengan biji pilihan terbaik dan racikan barista profesional kami
            </p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a href="{% url 'apps:product_list' %}" 
                   class="px-8 py-4 bg-yellow-800 text-white rounded-full text-lg font-semibold hover:bg-yellow-700 transform hover:scale-105 transition duration-300">
                    Jelajahi Menu
                </a>
                <a href="#about" 
                   class="px-8 py-4 bg-transparent border-2 border-white text-white rounded-full text-lg font-semibold hover:bg-white hover:text-yellow-800 transform hover:scale-105 transition duration-300">
                    Tentang Kami
                </a>
            </div>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
        </svg>
    </div>
</div>

<!-- Categories Section -->
<div id="categories" class="container mx-auto px-4 py-8 sm:py-12 md:py-16">
    <div class="text-center mb-8 sm:mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-3 sm:mb-4">Kategori Menu</h2>
        <p class="text-lg sm:text-xl text-gray-600">Temukan berbagai pilihan kopi favorit Anda</p>
    </div>
    
    <!-- Categories Pills -->
    <div class="flex overflow-x-auto space-x-4 mb-12 pb-4 -mx-4 px-4">
        <a href="{% url 'apps:landing_page' %}#categories" 
           class="flex-shrink-0 px-6 py-3 rounded-full {% if not current_category %}bg-yellow-800 text-white{% else %}bg-gray-200 text-gray-700{% endif %} hover:bg-yellow-700 hover:text-white transition duration-300">
            Semua Menu
        </a>
        
        {% for category in categories %}
        <a href="{% url 'apps:landing_page' %}?category={{ category.slug }}#categories" 
           class="flex-shrink-0 px-6 py-3 rounded-full {% if current_category == category.slug %}bg-yellow-800 text-white{% else %}bg-gray-200 text-gray-700{% endif %} hover:bg-yellow-700 hover:text-white transition duration-300">
            {{ category.name }}
        </a>
        {% endfor %}
    </div>

    <!-- Products Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8">
        {% for product in featured_products %}
        <div class="group">
            <div class="bg-white rounded-xl overflow-hidden transform hover:-translate-y-2 transition duration-300">
                <div class="relative overflow-hidden">
                    <img src="{{ product.image.url }}" 
                         alt="{{ product.name }}" 
                         class="w-full h-64 object-cover transform group-hover:scale-110 transition duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition duration-300"></div>
                </div>
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-xl font-semibold text-gray-900">{{ product.name }}</h3>
                        <span class="px-3 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full">{{ product.category.name }}</span>
                    </div>
                    <p class="text-gray-600 mb-4 line-clamp-2">{{ product.description }}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-yellow-800 font-bold text-lg">Rp {{ product.price|floatformat:0 }}</span>
                        <form method="post" action="{% url 'apps:add_to_cart' product.id %}" class="inline">
                            {% csrf_token %}
                            <button type="submit" 
                                    {% if not product.is_available %}disabled{% endif %}
                                    class="bg-yellow-800 text-white px-6 py-2 rounded-full {% if not product.is_available %}opacity-50 cursor-not-allowed{% else %}hover:bg-yellow-700 transform hover:scale-105{% endif %} transition duration-300">
                                {% if product.is_available %}
                                    + Keranjang
                                {% else %}
                                    Tidak Tersedia
                                {% endif %}
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-span-full text-center py-8">
            <p class="text-gray-500">Tidak ada produk yang tersedia untuk kategori ini.</p>
            <a href="{% url 'apps:landing_page' %}" class="mt-4 inline-block text-yellow-800 hover:text-yellow-700">
                Kembali ke semua menu
            </a>
        </div>
        {% endfor %}
    </div>
</div>


<!-- About Section dengan Animasi -->
<div id="about" class="py-12 sm:py-16 md:py-24 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center">
            <div class="space-y-6 sm:space-y-8">
                <div class="relative">
                    <h2 class="text-4xl font-bold text-gray-900 mb-2">Tentang Ngopiin</h2>
                    <div class="absolute -left-4 top-0 w-2 h-12 bg-yellow-800"></div>
                </div>
                <p class="text-xl text-gray-600 leading-relaxed">
                    Ngopiin adalah kedai kopi premium yang berkomitmen untuk menyajikan pengalaman kopi terbaik. 
                    Dengan biji kopi pilihan dari berbagai daerah di Indonesia dan barista berpengalaman, 
                    kami menghadirkan cita rasa kopi yang autentik dan berkualitas.
                </p>
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-8">
                    <div class="text-center transform hover:scale-105 transition duration-300">
                        <div class="text-4xl font-bold text-yellow-800 mb-2">5+</div>
                        <div class="text-gray-600">Tahun Pengalaman</div>
                    </div>
                    <div class="text-center transform hover:scale-105 transition duration-300">
                        <div class="text-4xl font-bold text-yellow-800 mb-2">1000+</div>
                        <div class="text-gray-600">Pelanggan Puas</div>
                    </div>
                    <div class="text-center transform hover:scale-105 transition duration-300">
                        <div class="text-4xl font-bold text-yellow-800 mb-2">20+</div>
                        <div class="text-gray-600">Varian Menu</div>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-8 lg:mt-0">
                <img src="https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg" 
                     alt="Barista 1" 
                     class="rounded-2xl w-full h-48 sm:h-64 object-cover transform hover:scale-105 transition duration-300">
                <img src="https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg" 
                     alt="Barista 2" 
                     class="rounded-2xl w-full h-48 sm:h-64 object-cover mt-4 sm:mt-8 transform hover:scale-105 transition duration-300">
            </div>
        </div>
    </div>
</div>

<!-- Features Section dengan Hover Effects -->
<div class="py-12 sm:py-16 md:py-24 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8 md:gap-12">
          <div class="bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition duration-300">
            <div class="flex flex-col items-center text-center">
                <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-6">
                    <svg class="w-8 h-8 text-yellow-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12l5 5l10-10"/>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-gray-900 mb-3">Rasa Autentik</h3>
                <p class="text-gray-600">Nikmati cita rasa kopi asli dengan karakter yang khas</p>
            </div>
        </div>

            <!-- Feature Card 2 -->
            <div class="bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition duration-300">
                <div class="flex flex-col items-center text-center">
                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-6">
                        <svg class="w-8 h-8 text-yellow-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Kualitas Terjamin</h3>
                    <p class="text-gray-600">Biji kopi premium dan racikan yang konsisten</p>
                </div>
            </div>

            <!-- Feature Card 3 -->
            <div class="bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition duration-300">
                <div class="flex flex-col items-center text-center">
                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-6">
                        <svg class="w-8 h-8 text-yellow-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Pembayaran Aman</h3>
                    <p class="text-gray-600">Berbagai metode pembayaran yang aman dan terpercaya</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Newsletter Section dengan Glassmorphism -->
<div class="relative py-12 sm:py-16 md:py-24 bg-cover bg-center">
    <div class="absolute inset-0 bg-black/70"></div>
    <div class="relative container mx-auto px-4">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-3xl sm:text-4xl font-bold text-white mb-4 sm:mb-6">Berlangganan Newsletter</h2>
            <p class="text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8">Dapatkan update terbaru dan penawaran spesial dari Ngopiin</p>
            <form class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                <input type="email" 
                       placeholder="Masukkan email Anda" 
                       class="w-full sm:flex-1 px-4 sm:px-6 py-3 sm:py-4 rounded-full bg-white/10 backdrop-blur-md text-white placeholder-gray-300 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-600">
                <button type="submit" 
                        class="w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-yellow-800 text-white rounded-full hover:bg-yellow-700 transform hover:scale-105 transition duration-300">
                    Langganan
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
        100% { transform: translateY(0px); }
    }
    
    .animate-float {
        animation: float 3s ease-in-out infinite;
    }
</style>
{% endblock %}
